(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(e){if(e.ep)return;e.ep=!0;const i=s(e);fetch(e.href,i)}})();function S(t){return typeof t!="string"?"":t.replace(/([\u0B80-\u0BFF])[\u200C\u200D]+/g,"$1").replace(/[\u200C\u200D]+([\u0B80-\u0BFF])/g,"$1").replace(/\u0BB6\u0BCD\u0BB0\u0BC0/g,"ஸ்ரீ").replace(/[\u0BE6-\u0BEF]/g,r=>String.fromCharCode(r.charCodeAt(0)-3046+48)).normalize("NFC")}const D=new Intl.Segmenter("ta-IN",{granularity:"grapheme"}),o={VOWEL:"vowel",CONSONANT_VIRAMA:"consonant_virama",CONSONANT_VOWEL_SIGN:"consonant_vowel_sign",CONSONANT_BARE:"consonant_bare",AYTHAM:"aytham",WHITESPACE:"whitespace",NUMERAL:"numeral",PUNCTUATION:"punctuation",OTHER:"other"},_=t=>{const r=t.charCodeAt(0);return r>=2949&&r<=2964},d=t=>{const r=t.charCodeAt(0);return r>=2965&&r<=3001},R=t=>t==="்",U=t=>{const r=t.charCodeAt(0);return r>=3006&&r<=3021&&r!==3021},V=t=>/^\s+$/.test(t),F=t=>/^\d+$/.test(t)||/^[\u0BE6-\u0BEF]+$/.test(t),M=t=>/^[.,/#!$%^&*;:{}=\-_`~()""'']+$/.test(t);function v(t){if(typeof t!="string"||!t)return[];const r=[];for(const{segment:s}of D.segment(t)){let n=o.OTHER;if(s==="ஃ")n=o.AYTHAM;else if(V(s))n=o.WHITESPACE;else if(F(s))n=o.NUMERAL;else if(M(s))n=o.PUNCTUATION;else if(s.length===1)_(s)?n=o.VOWEL:d(s)&&(n=o.CONSONANT_BARE);else if(s.length>1){const e=s[0],i=s[1];d(e)&&(R(i)?n=o.CONSONANT_VIRAMA:U(i)&&(n=o.CONSONANT_VOWEL_SIGN))}r.push({text:s,type:n})}return r}const u={VOWEL_SIGN:"vowel_sign",VIRAMA:"virama",NULL:"null",NONE:"none"};function W(t){return Array.isArray(t)?t.map(r=>{let s=r.text,n="",e=u.NONE;return r.type===o.VOWEL||r.type===o.CONSONANT_BARE?(s=r.text[0],e=u.NULL):r.type===o.CONSONANT_VIRAMA||r.type===o.CONSONANT_VOWEL_SIGN?(s=r.text[0],n=r.text.slice(1),e=r.type===o.CONSONANT_VIRAMA?u.VIRAMA:u.VOWEL_SIGN):e=u.NONE,{...r,base:s,modifier:n,modifierType:e}}):[]}const f={WORD_INITIAL:"WORD_INITIAL",GEMINATE:"GEMINATE",POST_NASAL:"POST_NASAL",INTERVOCALIC:"INTERVOCALIC",FRICATIVE_MUTATED:"FRICATIVE_MUTATED",WORD_FINAL:"WORD_FINAL",DEFAULT:"DEFAULT"},b=["ங","ன","ண","ந","ம","ஞ"];function w(t){return t?t.type===o.VOWEL||t.type===o.CONSONANT_VOWEL_SIGN||t.type===o.CONSONANT_BARE:!1}function x(t){return Array.isArray(t)?t.map((r,s)=>{let n=f.DEFAULT;if([o.CONSONANT_BARE,o.CONSONANT_VIRAMA,o.CONSONANT_VOWEL_SIGN].includes(r.type)){const e=s>0?t[s-1]:null,i=s<t.length-1?t[s+1]:null,c=s===0||e&&(e.type===o.WHITESPACE||e.type===o.PUNCTUATION||e.type===o.OTHER),T=s===t.length-1||i&&(i.type===o.WHITESPACE||i.type===o.PUNCTUATION||i.type===o.OTHER);c?n=f.WORD_INITIAL:r.modifierType===u.VIRAMA&&i&&i.base===r.base||e&&e.modifierType===u.VIRAMA&&e.base===r.base?n=f.GEMINATE:e&&e.modifierType===u.VIRAMA&&b.includes(e.base)?n=f.POST_NASAL:e&&e.type===o.AYTHAM&&(r.base==="ப"||r.base==="ஜ")?n=f.FRICATIVE_MUTATED:w(e)&&r.modifierType!==u.VIRAMA?n=f.INTERVOCALIC:T&&(n=f.WORD_FINAL)}return{...r,contextTag:n}}):[]}const N={vowels:{அ:"a",ஆ:"ā",இ:"i",ஈ:"ī",உ:"u",ஊ:"ū",எ:"e",ஏ:"ē",ஐ:"ai",ஒ:"o",ஓ:"ō",ஔ:"au"},consonants:{க:"k",ங:"ṅ",ச:"c",ஞ:"ñ",ட:"ṭ",ண:"ṇ",த:"t",ந:"n",ப:"p",ம:"m",ய:"y",ர:"r",ல:"l",வ:"v",ழ:"ḻ",ள:"ḷ",ற:"ṟ",ன:"ṉ",ஜ:"j",ஷ:"ṣ",ஸ:"s",ஹ:"h"}},L={vowels:{அ:"a",ஆ:"aa",இ:"i",ஈ:"ee",உ:"u",ஊ:"oo",எ:"e",ஏ:"ae",ஐ:"ai",ஒ:"o",ஓ:"oa",ஔ:"au"},consonants:{க:{DEFAULT:"k",INTERVOCALIC:"g",POST_NASAL:"g",GEMINATE:"kk"},ச:{DEFAULT:"s",WORD_INITIAL:"s",INTERVOCALIC:"s",POST_NASAL:"j",GEMINATE:"chch"},ட:{DEFAULT:"t",INTERVOCALIC:"d",POST_NASAL:"d",GEMINATE:"tt"},த:{DEFAULT:"th",INTERVOCALIC:"d",POST_NASAL:"dh",GEMINATE:"tth"},ப:{DEFAULT:"p",INTERVOCALIC:"b",POST_NASAL:"b",GEMINATE:"pp",FRICATIVE_MUTATED:"f"},ற:{DEFAULT:"r",INTERVOCALIC:"r",POST_NASAL:"dr",GEMINATE:"tr"},ங:{DEFAULT:"n",WORD_INITIAL:"ng"},ஞ:{DEFAULT:"n",WORD_INITIAL:"gn"},ல:{DEFAULT:"l"},ள:{DEFAULT:"l"},ழ:{DEFAULT:"zh"},ந:{DEFAULT:"n"},ன:{DEFAULT:"n"},ண:{DEFAULT:"n"},ம:{DEFAULT:"m"},ய:{DEFAULT:"y"},ர:{DEFAULT:"r"},வ:{DEFAULT:"v"},ஜ:{DEFAULT:"j",FRICATIVE_MUTATED:"z"},ஷ:{DEFAULT:"sh"},ஸ:{DEFAULT:"s"},ஹ:{DEFAULT:"h"}}},I={vowels:{...N.vowels},consonants:{...N.consonants}},P={iso15919:N,practical:L,alaLc:I,"ala-lc":I},G={"ா":"ஆ","ி":"இ","ீ":"ஈ","ு":"உ","ூ":"ஊ","ெ":"எ","ே":"ஏ","ை":"ஐ","ொ":"ஒ","ோ":"ஓ","ௌ":"ஔ","ௗ":"ஔ"};function z(t,r="practical",s=null){const n=P[r]||L;return t.map(e=>{if(e.type===o.OTHER)return{...e,romanized:e.text};let i="";if(e.type===o.VOWEL)i=n.vowels[e.base]||e.base;else{let c=e.base;const l=s&&s[e.base]||n.consonants[e.base];if(typeof l=="string")c=l;else if(l&&typeof l=="object")if(e.contextTag==="GEMINATE"&&l.GEMINATE){const A=l.GEMINATE;e.modifierType===u.VIRAMA?c=A.charAt(0):c=A.slice(1)}else c=l[e.contextTag]||l.DEFAULT||e.base;else c=e.base;let p="";if(e.modifierType===u.NULL)p=n.vowels.அ||"a";else if(e.modifierType===u.VOWEL_SIGN){const A=G[e.modifier];A&&(p=n.vowels[A]||"")}i=c+p}return{...e,romanized:i}})}function H(t,r="practical"){if(!Array.isArray(t))return"";const s=r==="practical";let n="";for(let e=0;e<t.length;e++){const i=t[e];i.text==="ஃ"?(t[e+1],s||(n+="ḵ")):n+=i.romanized||i.text}return s&&(n=n.replace(/kṣ/g,"ksh"),n=n.replace(/sree/g,"sri")),n}const j={சென்னை:"Chennai",தமிழ்நாடு:"Tamilnadu",கோயம்புத்தூர்:"Coimbatore",மதுரை:"Madurai",தஞ்சாவூர்:"Thanjavur",திருச்சி:"Trichy",திருச்சிராப்பள்ளி:"Tiruchirappalli",சேலம்:"Salem",திருப்பூர்:"Tiruppur",நெல்லை:"Nellai",திருநெல்வேலி:"Tirunelveli",கன்னியாகுமரி:"Kanyakumari",பெங்களூர்:"Bangalore",கேரளா:"Kerala",மும்பை:"Mumbai",டெல்லி:"Delhi",கல்கத்தா:"Kolkata",இந்தியா:"India",அமெரிக்கா:"America",லண்டன்:"London",பஸ்:"bus",கார்:"car",லாரி:"lorry",ரயில்:"rail",பிளைட்:"flight",டீ:"tea",காபி:"coffee",டிபன்:"tiffin",ஹோட்டல்:"hotel",டாக்டர்:"doctor",போலீஸ்:"police",ஸ்டேஷன்:"station",கம்ப்யூட்டர்:"computer",இன்டர்நெட்:"internet",வாட்ஸ்அப்:"whatsapp",பேஸ்புக்:"facebook",யூடியூப்:"youtube",சினிமா:"cinema",டிக்கெட்:"ticket",ஹீரோ:"hero",டிவி:"TV",பேங்க்:"bank",போன்:"phone","ஃபேக்டரி":"factory",ஆபீஸ்:"office"};class h{constructor(){this.children=new Map,this.isWordEnd=!1,this.override=null}}class ${constructor(){this.root=new h,this.buildTrie()}buildTrie(){for(const[r,s]of Object.entries(j)){let n=this.root;for(const e of r)n.children.has(e)||n.children.set(e,new h),n=n.children.get(e);n.isWordEnd=!0,n.override=s}}lookup(r){let s=this.root;for(const n of r){if(!s.children.has(n))return null;s=s.children.get(n)}return s.isWordEnd?s.override:null}}const K=new $;function Y(t,r){return t?r==="words"?t.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):r==="sentence"?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase():""}function q(t,r={}){const{scheme:s="practical",exceptions:n=!0,table:e=null,capitalize:i="none"}=r;if(typeof t!="string")return"";const c=S(t);if(!c)return"";const T=v(c),l=[];let p=[];for(const a of T)a.type==="whitespace"||a.type==="punctuation"||a.type==="other"?(p.length>0&&(l.push({type:"word",tokens:p}),p=[]),l.push({type:"separator",tokens:[a]})):p.push(a);p.length>0&&l.push({type:"word",tokens:p});let A=[];for(const a of l){if(a.type==="separator"){A.push({text:a.tokens[0].text,isException:!1});continue}const C=a.tokens.map(E=>E.text).join("");if(n){const E=K.lookup(C);if(E){A.push({text:E,isException:!0});continue}}const m=W(a.tokens),y=x(m),g=z(y,s,e),B=H(g,s);A.push({text:B,isException:!1})}if(i==="none")return A.map(a=>a.text).join("").toLowerCase();const O=A.map(a=>a.text).join("");return Y(O,i)}document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("input-text"),r=document.getElementById("output-text"),s=document.getElementById("scheme-select"),n=document.getElementById("capitalize-select"),e=document.getElementById("exceptions-check");function i(){const c=t.value;if(!c.trim()){r.value="";return}try{const T=q(c,{scheme:s.value,capitalize:n.value,exceptions:e.checked});r.value=T}catch(T){r.value=`Error: ${T.message}`}}t.addEventListener("input",i),s.addEventListener("change",i),n.addEventListener("change",i),e.addEventListener("change",i)});
